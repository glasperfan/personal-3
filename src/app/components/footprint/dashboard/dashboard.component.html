<div class="wrapper">
    <div *ngIf="!componentLoading; else loading">
        <div id="main-chart"></div>
        <mat-select 
            placeholder="Select an aggregator..."
            [(value)]="selectedAggregator"
            (selectionChange)="onAggregatorSelection($event)"
        >
            <mat-option *ngFor="let agg of stats.AggregatorOptions | keyvalue" [value]="agg.key">{{agg.value}}</mat-option>
        </mat-select>
        <mat-select
            placeholder="Select an interval..."
            [(value)]="selectedInterval"
            (selectionChange)="onIntervalSelection($event)"
        >
            <mat-option *ngFor="let opt of stats.IntervalOptions | keyvalue" [value]="opt.key">{{opt.value}}</mat-option>
        </mat-select>
    </div>
    <ng-template #loading>
        <div class="spinner">
            <mat-spinner></mat-spinner>
        </div>
    </ng-template>
</div>